<!-- Chat Area -->
<div id="chat-container" class="flex-1 overflow-y-auto p-4 flex flex-col gap-3 pb-24 w-full">
    <!-- Messages will be injected here -->
    
    <!-- Loading Spinner -->
    <div id="loading-spinner" class="flex justify-center py-4">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
    </div>
    
    <!-- Error Message Container -->
    <div id="error-container" class="hidden flex-col items-center justify-center py-4 bg-red-100 rounded-lg p-4 mx-4 mt-4">
        <p class="text-red-600 font-bold mb-1">發生錯誤</p>
        <p class="text-xs text-red-500 break-all" id="error-text"></p>
    </div>
</div>

<!-- Input Area -->
<div class="absolute bottom-[80px] left-0 w-full bg-white/70 backdrop-blur-md p-2 border-t border-white/20 flex items-center gap-2 z-20 safe-area-bottom shrink-0">
    <button class="p-2 text-gray-500 rounded-full hover:bg-white/50 hover:text-purple-600 transition-colors flex items-center justify-center">
        <i class="fa-solid fa-plus text-xl"></i>
    </button>
    <div class="flex-1 bg-white/50 backdrop-blur-sm rounded-2xl min-h-[40px] max-h-[120px] py-2 px-4 flex items-center border border-white/30 focus-within:border-purple-300 focus-within:bg-white/80 transition-all">
        <textarea id="message-input" rows="1" class="w-full bg-transparent border-none focus:ring-0 outline-none p-0 resize-none max-h-[100px] text-base placeholder-gray-400" placeholder="輸入訊息..." style="outline: none !important; box-shadow: none !important; -webkit-tap-highlight-color: transparent;"></textarea>
    </div>
    <button id="send-btn" class="p-2 text-purple-600 rounded-full hover:bg-purple-100 hover:text-purple-700 disabled:opacity-50 disabled:hover:bg-transparent focus:outline-none flex items-center justify-center transition-all active:scale-95">
        <i class="fa-solid fa-paper-plane text-xl"></i>
    </button>
</div>
